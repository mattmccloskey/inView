$.fn.inView=function(){var e=InView.scroll,i=$(this).data("inview:lats")||[1,.5,0],n=$(this).offset(),t=$(this).outerHeight(),w=$.extend(n,{height:t,bottom:n.top+t}),s=[];if(w.top<e.y+e.height&&w.bottom>e.y){$(this).data("isinview",!0);for(var h=0,o=i.length;o>h;h++)s.push((e.y+e.height*i[h]-w.top)/w.height);return s.push(e),s.push(w),s}return $(this).data("isinview",!1),!1};var InView={};InView.active=!1,InView.elements=[],InView.scroll={y:0,height:0},InView.register=function(e){InView.active||InView.start(),InView.elements.push(e)},InView.start=function(){InView.scroll={y:$(window).scrollTop(),height:$(window).height()},$(window).scroll(InView.onScroll),InView.active=!0},InView.onScroll=function(){InView.scroll={y:$(window).scrollTop(),height:$(window).height()};for(var e=0,i=InView.elements.length;i>e;e++)InView.checkElement(InView.elements[e])},InView.checkElement=function(e){var i=e.data("isinview"),n=e.inView(),t=e.data("isinview");n!==!1&&e.trigger("inView",n),i===!1&&t===!0?e.trigger("inViewBegin",n):i===!0&&t===!1&&e.trigger("inViewEnd",n)},$.event.special.inView={enabled:!0,setup:function(){InView.register($(this)),$(this).data("isinview",!1),InView.checkElement($(this))},teardown:function(){}},$.event.special.inViewBegin={enabled:!0,setup:function(){InView.register($(this)),$(this).data("isinview",!1),InView.checkElement($(this))},teardown:function(){}},$.event.special.inViewEnd={enabled:!0,setup:function(){InView.register($(this)),$(this).data("isinview",!1),InView.checkElement($(this))},teardown:function(){}};